const miModulo=(()=>{"use strict";let e=[],t=[];const n=["C","D","H","S"],o=["A","J","Q","K"],r=document.querySelector("#btn_pedir"),l=document.querySelector("#btn_detener"),s=document.querySelector("#btn_nuevo"),a=document.querySelectorAll(".divCartas"),d=document.querySelectorAll("small"),c=(n=2)=>{l.disabled=!0,r.disabled=!1,t=[],e=i();for(let e=0;e<n;e++)t.push(0);d.forEach(e=>e.innerText=0),a.forEach(e=>e.innerHTML=""),console.clear()},i=()=>{e=[];for(let t=2;t<=10;t++)for(let o of n)e.push(t+o);for(let t of n)for(let n of o)e.push(n+t);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.pop()},m=(e,n)=>(t[e]=t[e]+(e=>{const t=e.substring(0,e.length-1);return console.log(t),isNaN(t)?"A"===t?11:10:1*t})(n),d[e].innerText=t[e],t[e]),h=(e,t)=>{const n=document.createElement("img");n.src=`assets/cartas/${e}.png`,n.classList.add("carta"),a[t].append(n)},b=async e=>{let n=0;do{const e=u();n=m(t.length-1,e),h(e,t.length-1)}while(n<e&&e<=21);(()=>{const[e,n]=t;setTimeout(()=>{n===e?alert("Empate"):e>21?alert("Perdiste, computadora gana"):n>21?alert("Ganaste"):alert("Perdiste, computadora gana")},1500)})()};return r.addEventListener("click",()=>{l.disabled=!1;const e=u(),t=m(0,e);h(e,0),t>21?(console.log("Lo siento mucho, perdiste"),r.disabled=!0,l.disabled=!0,b(t)):21===t&&(console.warn("21, Genial!"),r.disabled=!0,l.disabled=!0,b(t))}),l.addEventListener("click",()=>{r.disabled=!0,l.disabled=!0,b(t[0])}),s.addEventListener("click",()=>{c()}),{nuevoJuego:c}})();